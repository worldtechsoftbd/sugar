$("#employee_id").change((function(){let url=$("#employee_id option:selected").data("id");$.get(url,(function(data,status){let gross_amount=data.employee_files.gross_salary,basic_percent=$("#basic").data("amount");var basic_amount;basic_percent&&(basic_amount=(gross_amount*basic_percent/100).toFixed(2),$("#basic").val(basic_amount)),basic_amount=$("#basic").val(),$(".allowances").each((function(){let percent=$(this).data("amount"),percent_type=$(this).data("percent-type"),amount=0;percent>0&&("gross"==percent_type?amount=(gross_amount*percent/100).toFixed(2):"basic"==percent_type&&(amount=(basic_amount*percent/100).toFixed(2)),$(this).val(amount))}));$(".deductions").each((function(){let percent=$(this).data("amount"),percent_type=$(this).data("percent-type"),amount=0;percent>0&&("gross"==percent_type?amount=(gross_amount*percent/100).toFixed(2):"basic"==percent_type&&(amount=(basic_amount*percent/100).toFixed(2)),$(this).val(amount))})),$("#grsalary").val(data.employee_files.gross_salary)}))}));