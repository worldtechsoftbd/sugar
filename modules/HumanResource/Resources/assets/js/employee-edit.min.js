var count=$(".employee_docs").length+1,html="";$("#add_doc_row").click((function(e){if(e.preventDefault(),count>5)return alert("You can add maximum 5 Document File"),!1;html='<div class="row"> <div class="col-md-4 mb-3"> <div class="form-group"> <label class="mb-2" for="doc-title_'+count+'">'+localize("doc_title")+'</label> <input type="text" class="form-control required-field" id="doc-title_'+count+'" placeholder="'+localize("doc_title")+'" name="employee_docs['+count+'][document_title]"></div></div><div class="col-md-3 mb-3"> <label class="mb-2" for="doc_file'+count+'">'+localize("file")+'</label> <input type="file" class="form-control required-field" id="doc_file'+count+'" name="employee_docs['+count+'][file]"> </div><div class="col-md-4 mb-3"> <div class="form-group"> <label class="mb-2" for="expiry_date">'+localize("expiry_date")+'</label> <input type="date" class="form-control required-field" id="expiry_date'+count+'"  name="employee_docs['+count+'][expiry_date]" required> </div> </div><div class="col-md-1"> <span class="align-middle btn btn-danger delete-btn"><i class="fa fa-trash text-white"></i></span> </div> </div>',$("#employee-docs").append(html),count++})),$(document).on("click","span.delete-btn",(function(e){e.preventDefault(),$(this).parent().parent().remove(),count--})),$(document).on("click",".remove_allowance",(function(e){if(e.preventDefault(),1==$("#allowance-table tbody tr").length)return alert("You can not remove last row"),!1;$(this).parent().parent().remove(),$(".salary-calculate").each((function(){$(this).trigger("keyup")}))})),$(document).on("click",".remove_deduction",(function(e){if(e.preventDefault(),1==$("#deduction-table tbody tr").length)return alert("You can not remove last row"),!1;$(this).parent().parent().remove(),$(".salary-calculate").each((function(){$(this).trigger("keyup")}))})),$(document).on("click",".remove_bonus",(function(e){if(e.preventDefault(),1==$("#bonus-table tbody tr").length)return alert("You can not remove last row"),!1;$(this).parent().parent().remove(),$(".salary-calculate").each((function(){$(this).trigger("keyup")}))})),$(".calculate-salary").on("keyup",(function(){var basic=$(".basic_salary").val()||0,transport_allowance=$(".transport_allowance").val()||0,gross=parseFloat(basic)+parseFloat(transport_allowance);$(".gross_salary").val(gross)})),$("#department").on("change",(function(e){var department_id=$(this).val(),subDepartments=JSON.parse($("#sub_departments").val()),sub_department=$("#sub_department");sub_department.empty(),sub_department.append('<option value="">'+localize("select_sub_department")+"</option>");var hasSubDepartments=!1;$.each(subDepartments,(function(key,value){value.parent_id==department_id&&(sub_department.append('<option value="'+value.id+'">'+value.department_name+"</option>"),hasSubDepartments=!0)})),hasSubDepartments?sub_department.prop("disabled",!1):sub_department.prop("disabled",!0)}));