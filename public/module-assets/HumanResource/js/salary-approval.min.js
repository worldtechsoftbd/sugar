"use strict";$("#post_button").click((function(){$("#payment_area").toggle()}));var payment_list=JSON.parse(document.getElementById("payment_list").value),limits=50;function add_key_payment_item(e){var rowCount=document.getElementById(e).rows.length,option="";if(rowCount>=limits)return alert("You have reached the limit of adding "+limits+" rows"),!1;"income_tax_table"===e?payment_list.forEach((element=>{1==element.is_bank_nature&&(option+='<option value="'+element.id+'">'+element.account_name+"</option>")})):payment_list.forEach((element=>{option+='<option value="'+element.id+'">'+element.account_name+"</option>"}));var tr='<tr class="payment-row"><td><select name="'+e+'[][coa_id]" class="form-control select-basic-single" required><option value="">'+localize("select_account")+"</option>";tr+=option,tr+='</select></td><td class=""><input type="number" step="0.01" class="form-control payment-amount"   onchange="validated()" name="'+e+'[][amount]" placeholder="'+localize("amount")+'" required></td><td><a class="btn btn-primary-soft btn-sm me-1" onclick="add_key_payment_item(\''+e+'\')"><i class="fa fa-plus-square" aria-hidden="true"></i></a><a class="btn btn-danger-soft btn-sm" value="" onclick="deleteRow(this)"><i class="fa fa-trash" aria-hidden="true"></i></a></td></tr>',$("#"+e+" tbody").append(tr),$("select.form-control").select2({placeholder:"Select option",allowClear:!0}),arrayAlign(e)}function deleteRow(event){var table=$(event).closest("table");1!==table.find("tbody tr").length?($(event).closest("tr").remove(),arrayAlign(table.attr("id"))):alert("Cannot delete the last row.")}function validated(){$(".payment-amount").each((function(){parseFloat($(this).val())||0}));parseFloat($("#gross_salary").val())}function arrayAlign(table){for(var rows=document.getElementById(table).getElementsByTagName("tbody")[0].getElementsByTagName("tr"),i=0;i<rows.length;i++){var select=rows[i].querySelectorAll("input, select");console.log(select),select.forEach((function(input){var newName=input.getAttribute("name").replace(/\[\d*\]/,"["+i+"]");input.setAttribute("name",newName)}))}}