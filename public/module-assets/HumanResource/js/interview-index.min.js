var table=$("#interview-table");function addInterview(){var interview_create=$("#interview_create").val(),lang_interview_form=$("#lang_interview_form").val(),interview_store=$("#interview_store").val();$.ajax({type:"GET",dataType:"html",url:interview_create,success:function(data){$(".modal-title").text(lang_interview_form),$("#interviewDetailsForm").attr("action",interview_store),$(".modal-body").html(data),$("#candidate_id").select2(),$("#selection").select2(),$(".date_picker").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearRange:"-100:+0",showAnim:"slideDown"}),$("#interviewDetailsModal").modal("show")}})}function editInterviewDetails(id){var interview_edit_url=$("#interview_edit").val(),interview_update_url=$("#interview_update").val(),lang_update_interview=$("#lang_update_interview").val(),url=interview_edit_url;url=url.replace(":interview",id),$.ajax({type:"GET",dataType:"html",url:url,success:function(data){f_up_url=interview_update_url.replace(":interview",id),console.log(f_up_url),$(".modal-title").text(lang_update_interview),$("#interviewDetailsForm").attr("action",f_up_url),$(".modal-body").html(data),$("#candidate_id").select2(),$("#selection").select2(),$(".date_picker").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearRange:"-100:+0",showAnim:"slideDown"}),$("#interviewDetailsModal").modal("show")}})}function calculateTotalMarks(){var totalMarks=(parseFloat($("#interview_marks").val())||0)+(parseFloat($("#written_marks").val())||0)+(parseFloat($("#mcq_marks").val())||0);$("#total_marks").val(totalMarks.toFixed(2))}$(document).ready((function(){$("#interviewDetailsForm").submit((function(e){e.preventDefault();var url=$("#interviewDetailsForm").attr("action"),csrf=$('meta[name="csrf-token"]').attr("content");$.ajaxSetup({headers:{"X-CSRF-TOKEN":csrf}});var formData=new FormData($("#interviewDetailsForm")[0]);$.ajax({type:"POST",url:url,data:formData,cache:!1,contentType:!1,processData:!1,success:function(data){table.DataTable().ajax.reload(),$("#interviewDetailsForm").trigger("reset"),$("#interviewDetailsModal").modal("hide"),0==data.error?toastr.success(data.msg,"Success",{timeOut:5e3}):toastr.error(data.msg,"Error",{timeOut:5e3})},error:function(data){$.each(data.responseJSON.errors,(function(field_name,error){toastr.error(error,"Error:"+field_name,{timeOut:5e3}),$("#interviewDetailsForm").trigger("reset")}))}})})),$(document).on("change","#candidate_id",(function(){var interview_get_position=$("#interview_get_position").val(),candidate_id=$(this).val();$("#position_id").val(""),$("#position_name").val(""),$("#interview_date").val(""),$.ajax({url:interview_get_position,method:"GET",data:{candidate_id:candidate_id},success:function(response){$("#position_id").val(response.position_id),$("#position_name").val(response.position_name),$("#interview_date").val(response.interview_date)},error:function(xhr,status,error){console.error(xhr.responseText)}})})),$(document).on("input","#interview_marks, #written_marks, #mcq_marks",(function(){calculateTotalMarks()}))}));