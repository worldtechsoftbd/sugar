"use strict";function fetchAndStoreLocalizationStrings(){const localization=getLocalization();localization&&0!==Object.keys(localization).length||fetch($("meta[name='get-localization-strings']").attr("content")).then((response=>response.json())).then((data=>{localStorage.setItem(getLocalizationName(),JSON.stringify(data))})).catch((error=>{console.error("Error fetching localization strings.")}))}function getLocalization(){const localization=localStorage.getItem(getLocalizationName());return localization?JSON.parse(localization):{}}function getLocalizationName(){return"localization_"+$("meta[name='default-localization']").attr("content").replace(/ /g,"_")}function get_phrases(key){const localization=getLocalization();if(key=key.trim().replace(/ /g,"_").toLowerCase(),localization&&Object.keys(localization).length>0){if(localization[key])return localization[key];addLocalizationKey(key)}return key.replace(/_/g," ").replace(/^\w/,(c=>c.toUpperCase()))}function localize(key){return get_phrases(key)}function addLocalizationKey(key){const url=$("meta[name='get-localization-strings']").attr("content");var value=key.replace(/_/g," ").replace(/^\w/,(c=>c.toUpperCase()));const data={key:key,value:value};console.log(JSON.stringify(data)),fetch(url,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":$("meta[name='csrf-token']").attr("content")},body:JSON.stringify(data)}).then((response=>response.json())).then((result=>{result.data&&localStorage.setItem(getLocalizationName(),JSON.stringify(result.data))})).catch((error=>{console.error("Error adding localization key.")}))}$((function(){fetchAndStoreLocalizationStrings(),$(".localize").each((function(){$(this).text(get_phrases($(this).text()))}))}));