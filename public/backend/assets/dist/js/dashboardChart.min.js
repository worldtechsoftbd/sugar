var attendanceChart,AttendanceReport=JSON.parse($("#departmentWiseAttendanceReport").val()),optionsAttendanceReport={series:[{name:"Leave %",data:AttendanceReport.map((function(item){return item.leave}))},{name:"Present %",data:AttendanceReport.map((function(item){return item.present}))},{name:"Absent %",data:AttendanceReport.map((function(item){return item.absent}))}],chart:{type:"bar",height:300,stacked:!0,toolbar:{show:!1}},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:val=>val.toFixed(0)+"%"},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:AttendanceReport.map((function(item){const names=item.department.split(" ");return names.length>1?names:item.department})),labels:{rotate:0}},fill:{opacity:1},colors:["#FD4830","#00B074","#F7C604"],yaxis:{labels:{formatter:val=>val.toFixed(0)+"%"}},legend:{position:"top",horizontalAlign:"right"}};(attendanceChart=new ApexCharts(document.querySelector("#attendance"),optionsAttendanceReport)).render();var recruitmentChart,positionWiseRecruitmentChart=JSON.parse($("#positionWiseAttendanceReport").val()),optionsPositionWiseRecruitmentChart={series:[{data:positionWiseRecruitmentChart.map((function(item){return item.candidate}))}],chart:{type:"bar",height:318,toolbar:{show:!1},labels:{show:!1}},plotOptions:{bar:{barHeight:"100%",distributed:!0,horizontal:!0,dataLabels:{position:"bottom",show:!1}}},colors:["#51BDE4","#00B074","#2B3674","#51BDE4","#FD4830","#F7C604","#4BA1A0","#7A1DB4"],dataLabels:{enabled:!0,textAnchor:"start",style:{colors:["#fff"]},formatter:function(val,opt){return opt.w.globals.labels[opt.dataPointIndex]+":  "+val},offsetX:0},stroke:{width:1,colors:["#fff"]},xaxis:{categories:positionWiseRecruitmentChart.map((function(item){return item.position})),labels:{show:!1}},yaxis:{labels:{show:!1}},legend:{show:!1,labels:{show:!1}},tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:function(){return""}}}}};(recruitmentChart=new ApexCharts(document.querySelector("#recruitment"),optionsPositionWiseRecruitmentChart)).render();var awardChartSeries=JSON.parse($("#awardChartSeries").val()),optionsAwardChart={series:awardChartSeries,chart:{type:"bar",height:300,stacked:!0,toolbar:{show:!1}},stroke:{width:1,colors:["#fff"]},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},fill:{opacity:1},colors:["#FD4830","#00B074","#F7C604","#008FFB"],yaxis:{labels:{show:!1}},legend:{position:"top",horizontalAlign:"right"}},awardedChart=new ApexCharts(document.querySelector("#awarded"),optionsAwardChart);awardedChart.render();var totalLoanPaid=$("#totalLoanPaid").val(),optionsLoanPaid={series:[totalLoanPaid],chart:{height:312,type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#888",fontSize:"17px"},value:{formatter:function(val){return parseInt(val)},color:"#111",fontSize:"36px",show:!0}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#ABE5A1"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Total Loan Amount"]},loanchart=new ApexCharts(document.querySelector("#loan"),optionsLoanPaid);loanchart.render();var csrf=$('meta[name="csrf-token"]').attr("content");function positionWiseRecruitment(event){var url=$("#positionWiseRecruitmentUrl").val();$.ajax({url:url+"/"+event.target.value,type:"POST",data:{type:event.target.value},success:function(result){var newPositionOptions={series:[{data:result.map((function(item){return item.candidate}))}],chart:{type:"bar",height:318,toolbar:{show:!1},labels:{show:!1}},plotOptions:{bar:{barHeight:"100%",distributed:!0,horizontal:!0,dataLabels:{position:"bottom",show:!1}}},colors:["#51BDE4","#00B074","#2B3674","#51BDE4","#FD4830","#F7C604","#4BA1A0","#7A1DB4"],dataLabels:{enabled:!0,textAnchor:"start",style:{colors:["#fff"]},formatter:function(val,opt){return opt.w.globals.labels[opt.dataPointIndex]+":  "+val},offsetX:0},stroke:{width:1,colors:["#fff"]},xaxis:{categories:result.map((function(item){return item.position})),labels:{show:!1}},yaxis:{labels:{show:!1}},legend:{show:!1,labels:{show:!1}},tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:function(){return""}}}}};recruitmentChart.updateOptions(newPositionOptions)},error:function(err){console.log(err)}})}function departmentWiseAttendance(event){var url=$("#departmentWiseAttendanceUrl").val();$.ajax({url:url+"/"+event.target.value,type:"POST",data:{_token:csrf,type:event.target.value},success:function(result){var newDepartmentOptions={series:[{name:"Leave %",data:result.map((function(item){return item.leave}))},{name:"Present %",data:result.map((function(item){return item.present}))},{name:"Absent %",data:result.map((function(item){return item.absent}))}],chart:{type:"bar",height:300,stacked:!0,toolbar:{show:!1}},stroke:{width:1,colors:["#fff"]},legend:{horizontalAlign:"center",floating:!1},dataLabels:{formatter:val=>val.toFixed(0)+"%"},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:result.map((function(item){return item.department}))},fill:{opacity:1},colors:["#FD4830","#00B074","#F7C604"],yaxis:{labels:{formatter:val=>val.toFixed(0)+"%"}},legend:{position:"top",horizontalAlign:"right"}};attendanceChart.updateOptions(newDepartmentOptions)},error:function(err){}})}